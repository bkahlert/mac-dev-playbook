!function(t){var e={};function n(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=76)}({1:function(t,e,n){var a,s,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=[t],void 0===(i="function"==typeof(a=function(t){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const e="The message port closed before a response was received.",n="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",a=t=>{const a={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(a).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class s extends WeakMap{constructor(t,e){super(e),this.createItem=t}get(t){return this.has(t)||this.set(t,this.createItem(t)),super.get(t)}}const i=(e,n)=>(...a)=>{t.runtime.lastError?e.reject(t.runtime.lastError):n.singleCallbackArg||a.length<=1&&!1!==n.singleCallbackArg?e.resolve(a[0]):e.resolve(a)},r=t=>1==t?"argument":"arguments",o=(t,e,n)=>new Proxy(e,{apply:(e,a,s)=>n.call(a,t,...s)});let c=Function.call.bind(Object.prototype.hasOwnProperty);const l=(t,e={},n={})=>{let a=Object.create(null),s={has:(e,n)=>n in t||n in a,get(s,g,u){if(g in a)return a[g];if(!(g in t))return;let m=t[g];if("function"==typeof m)if("function"==typeof e[g])m=o(t,t[g],e[g]);else if(c(n,g)){let e=((t,e)=>function(n,...a){if(a.length<e.minArgs)throw new Error(`Expected at least ${e.minArgs} ${r(e.minArgs)} for ${t}(), got ${a.length}`);if(a.length>e.maxArgs)throw new Error(`Expected at most ${e.maxArgs} ${r(e.maxArgs)} for ${t}(), got ${a.length}`);return new Promise((s,r)=>{if(e.fallbackToNoCallback)try{n[t](...a,i({resolve:s,reject:r},e))}catch(i){console.warn(t+" API method doesn't seem to support the callback parameter, falling back to call it without a callback: ",i),n[t](...a),e.fallbackToNoCallback=!1,e.noCallback=!0,s()}else e.noCallback?(n[t](...a),s()):n[t](...a,i({resolve:s,reject:r},e))})})(g,n[g]);m=o(t,t[g],e)}else m=m.bind(t);else if("object"==typeof m&&null!==m&&(c(e,g)||c(n,g)))m=l(m,e[g],n[g]);else{if(!c(n,"*"))return Object.defineProperty(a,g,{configurable:!0,enumerable:!0,get:()=>t[g],set(e){t[g]=e}}),m;m=l(m,e[g],n["*"])}return a[g]=m,m},set:(e,n,s,i)=>(n in a?a[n]=s:t[n]=s,!0),defineProperty:(t,e,n)=>Reflect.defineProperty(a,e,n),deleteProperty:(t,e)=>Reflect.deleteProperty(a,e)},g=Object.create(t);return new Proxy(g,s)},g=t=>({addListener(e,n,...a){e.addListener(t.get(n),...a)},hasListener:(e,n)=>e.hasListener(t.get(n)),removeListener(e,n){e.removeListener(t.get(n))}});let u=!1;const m=new s(t=>"function"!=typeof t?t:function(e,a,s){let i,r,o=!1,c=new Promise(t=>{i=function(e){u||(console.warn(n,(new Error).stack),u=!0),o=!0,t(e)}});try{r=t(e,a,i)}catch(t){r=Promise.reject(t)}const l=!0!==r&&(g=r)&&"object"==typeof g&&"function"==typeof g.then;var g;if(!0!==r&&!l&&!o)return!1;const m=t=>{t.then(t=>{s(t)},t=>{let e;e=t&&(t instanceof Error||"string"==typeof t.message)?t.message:"An unexpected error occurred",s({__mozWebExtensionPolyfillReject__:!0,message:e})}).catch(t=>{console.error("Failed to send onMessage rejected reply",t)})};return m(l?r:c),!0}),d=({reject:n,resolve:a},s)=>{t.runtime.lastError?t.runtime.lastError.message===e?a():n(t.runtime.lastError):s&&s.__mozWebExtensionPolyfillReject__?n(new Error(s.message)):a(s)},f=(t,e,n,...a)=>{if(a.length<e.minArgs)throw new Error(`Expected at least ${e.minArgs} ${r(e.minArgs)} for ${t}(), got ${a.length}`);if(a.length>e.maxArgs)throw new Error(`Expected at most ${e.maxArgs} ${r(e.maxArgs)} for ${t}(), got ${a.length}`);return new Promise((t,e)=>{const s=d.bind(null,{resolve:t,reject:e});a.push(s),n.sendMessage(...a)})},h={runtime:{onMessage:g(m),onMessageExternal:g(m),sendMessage:f.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:f.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},b={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return a.privacy={network:{"*":b},services:{"*":b},websites:{"*":b}},l(t,h,a)};if("object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");t.exports=a(chrome)}else t.exports=browser})?a.apply(e,s):a)||(t.exports=i)},10:function(t,e,n){"use strict";function a(t){try{new URL(t)}catch(t){return!1}return!0}function s(t,e="https://www.google.com/search?q="){return function(t){if(-1!==(t=t.trim()).indexOf(" "))return!1;if(-1!==t.search(/^(about|file):[^:]/))return!0;const e=(t.match(/^([a-zA-Z-]+:)[^:]/)||[""])[0].slice(0,-1),n=(a=e,-1!==r.indexOf(a));var a;n&&(t=t.replace(/^[a-zA-Z-]+:\/*/,""));const s=/.*[a-zA-Z].*\//.test(t);if(t=t.replace(/(:[0-9]+)?([#/].*|$)/g,"").split("."),n&&/^[a-zA-Z0-9@!]+$/.test(t))return!0;if(e&&!n&&"localhost:"!==e)return!1;const o=t.every(t=>/^[0-9]+$/.test(t)&&+t>=0&&+t<256);if(o&&!e&&4===t.length||o&&n)return!0;return t.every(t=>/^[a-z0-9-]+$/i.test(t))&&t.length>1&&function(t){return-1!==i.indexOf(t)}(t[t.length-1])||1===t.length&&"localhost"===t[0]||s}(t)?(/^[a-zA-Z-]+:/.test(t)?"":"https://")+t:function(t,e){const n=encodeURIComponent(t),a=e.lastIndexOf("%s");return a<0?`${e}${n}`:`${e.slice(0,a)}${n}${e.slice(a+2)}`}(t,e)}n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}));const i=["abogado","ac","academy","accountants","active","actor","ad","adult","ae","aero","af","ag","agency","ai","airforce","al","allfinanz","alsace","am","amsterdam","an","android","ao","aq","aquarelle","ar","archi","army","arpa","as","asia","associates","at","attorney","au","auction","audio","autos","aw","ax","axa","az","ba","band","bank","bar","barclaycard","barclays","bargains","bayern","bb","bd","be","beer","berlin","best","bf","bg","bh","bi","bid","bike","bio","biz","bj","black","blackfriday","bloomberg","blue","bm","bmw","bn","bnpparibas","bo","boo","boutique","br","brussels","bs","bt","budapest","build","builders","business","buzz","bv","bw","by","bz","bzh","ca","cab","cal","camera","camp","cancerresearch","capetown","capital","caravan","cards","care","career","careers","cartier","casa","cash","cat","catering","cc","cd","center","ceo","cern","cf","cg","ch","channel","cheap","christmas","chrome","church","ci","citic","city","ck","cl","claims","cleaning","click","clinic","clothing","club","cm","cn","co","coach","codes","coffee","college","cologne","com","community","company","computer","condos","construction","consulting","contractors","cooking","cool","coop","country","cr","credit","creditcard","cricket","crs","cruises","cu","cuisinella","cv","cw","cx","cy","cymru","cz","dabur","dad","dance","dating","day","dclk","de","deals","degree","delivery","democrat","dental","dentist","desi","design","dev","diamonds","diet","digital","direct","directory","discount","dj","dk","dm","dnp","do","docs","domains","doosan","durban","dvag","dz","eat","ec","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","equipment","er","es","esq","estate","et","eu","eurovision","eus","events","everbank","exchange","expert","exposed","fail","farm","fashion","feedback","fi","finance","financial","firmdale","fish","fishing","fit","fitness","fj","fk","flights","florist","flowers","flsmidth","fly","fm","fo","foo","forsale","foundation","fr","frl","frogans","fund","furniture","futbol","ga","gal","gallery","garden","gb","gbiz","gd","ge","gent","gf","gg","ggee","gh","gi","gift","gifts","gives","gl","glass","gle","global","globo","gm","gmail","gmo","gmx","gn","goog","google","gop","gov","gp","gq","gr","graphics","gratis","green","gripe","gs","gt","gu","guide","guitars","guru","gw","gy","hamburg","hangout","haus","healthcare","help","here","hermes","hiphop","hiv","hk","hm","hn","holdings","holiday","homes","horse","host","hosting","house","how","hr","ht","hu","ibm","id","ie","ifm","il","im","immo","immobilien","in","industries","info","ing","ink","institute","insure","int","international","investments","io","iq","ir","irish","is","it","iwc","jcb","je","jetzt","jm","jo","jobs","joburg","jp","juegos","kaufen","kddi","ke","kg","kh","ki","kim","kitchen","kiwi","km","kn","koeln","kp","kr","krd","kred","kw","ky","kyoto","kz","la","lacaixa","land","lat","latrobe","lawyer","lb","lc","lds","lease","legal","lgbt","li","lidl","life","lighting","limited","limo","link","lk","loans","london","lotte","lotto","lr","ls","lt","ltda","lu","luxe","luxury","lv","ly","ma","madrid","maison","management","mango","market","marketing","marriott","mc","md","me","media","meet","melbourne","meme","memorial","menu","mg","mh","miami","mil","mini","mk","ml","mm","mn","mo","mobi","moda","moe","monash","money","mormon","mortgage","moscow","motorcycles","mov","mp","mq","mr","ms","mt","mu","museum","mv","mw","mx","my","mz","na","nagoya","name","navy","nc","ne","net","network","neustar","new","nexus","nf","ng","ngo","nhk","ni","ninja","nl","no","np","nr","nra","nrw","nu","nyc","nz","okinawa","om","one","ong","onl","ooo","org","organic","osaka","otsuka","ovh","pa","paris","partners","parts","party","pe","pf","pg","ph","pharmacy","photo","photography","photos","physio","pics","pictures","pink","pizza","pk","pl","place","plumbing","pm","pn","pohl","poker","porn","post","pr","praxi","press","pro","prod","productions","prof","properties","property","ps","pt","pub","pw","py","qa","qpon","quebec","re","realtor","recipes","red","rehab","reise","reisen","reit","ren","rentals","repair","report","republican","rest","restaurant","reviews","rich","rio","rip","ro","rocks","rodeo","rs","rsvp","ru","ruhr","rw","ryukyu","sa","saarland","sale","samsung","sarl","sb","sc","sca","scb","schmidt","schule","schwarz","science","scot","sd","se","services","sew","sexy","sg","sh","shiksha","shoes","shriram","si","singles","sj","sk","sky","sl","sm","sn","so","social","software","sohu","solar","solutions","soy","space","spiegel","sr","st","su","supplies","supply","support","surf","surgery","suzuki","sv","sx","sy","sydney","systems","sz","taipei","tatar","tattoo","tax","tc","td","technology","tel","temasek","tf","tg","th","tienda","tips","tires","tirol","tj","tk","tl","tm","tn","to","today","tokyo","tools","top","town","toys","tp","tr","trade","training","travel","trust","tt","tui","tv","tw","tz","ua","ug","uk","university","uno","uol","us","uy","uz","va","vacations","vc","ve","vegas","ventures","versicherung","vet","vg","vi","viajes","video","villas","vision","vlaanderen","vn","vodka","vote","voting","voto","voyage","vu","wales","wang","watch","webcam","website","wed","wedding","wf","whoswho","wien","wiki","williamhill","wme","work","works","world","ws","wtc","wtf","xn--1qqw23a","xn--3bst00m","xn--3ds443g","xn--3e0b707e","xn--45brj9c","xn--45q11c","xn--4gbrim","xn--55qw42g","xn--55qx5d","xn--6frz82g","xn--6qq986b3xl","xn--80adxhks","xn--80ao21a","xn--80asehdb","xn--80aswg","xn--90a3ac","xn--b4w605ferd","xn--c1avg","xn--cg4bki","xn--clchc0ea0b2g2a9gcd","xn--czr694b","xn--czrs0t","xn--czru2d","xn--d1acj3b","xn--d1alf","xn--fiq228c5hs","xn--fiq64b","xn--fiqs8s","xn--fiqz9s","xn--flw351e","xn--fpcrj9c3d","xn--fzc2c9e2c","xn--gecrj9c","xn--h2brj9c","xn--hxt814e","xn--i1b6b1a6a2e","xn--io0a7i","xn--j1amh","xn--j6w193g","xn--kprw13d","xn--kpry57d","xn--kput3i","xn--l1acc","xn--lgbbat1ad8j","xn--mgb9awbf","xn--mgba3a4f16a","xn--mgbaam7a8h","xn--mgbab2bd","xn--mgbayh7gpa","xn--mgbbh1a71e","xn--mgbc0a9azcg","xn--mgberp4a5d4ar","xn--mgbx4cd0ab","xn--ngbc5azd","xn--node","xn--nqv7f","xn--nqv7fs00ema","xn--o3cw4h","xn--ogbpf8fl","xn--p1acf","xn--p1ai","xn--pgbs0dh","xn--q9jyb4c","xn--qcka1pmc","xn--rhqv96g","xn--s9brj9c","xn--ses554g","xn--unup4y","xn--vermgensberater-ctb","xn--vermgensberatung-pwb","xn--vhquv","xn--wgbh1c","xn--wgbl6a","xn--xhq521b","xn--xkc2al3hye2a","xn--xkc2dl3a5ee0h","xn--yfro4i67o","xn--ygbi2ammx","xn--zfr164b","xxx","xyz","yachts","yandex","ye","yoga","yokohama","YouTube","yt","za","zip","zm","zone","zuerich","zw"];const r=["http:","https:","file:","ftp:","chrome:","chrome-extension:"]},12:function(t){t.exports=JSON.parse('{"Backquote":{"value":"`","shift":"~"},"Backslash":{"value":"\\\\","shift":"|"},"BracketLeft":{"value":"[","shift":"{"},"BracketRight":{"value":"]","shift":"}"},"Comma":{"value":",","shift":"<"},"Digit0":{"value":"0","shift":")"},"Digit1":{"value":"1","shift":"!"},"Digit2":{"value":"2","shift":"@"},"Digit3":{"value":"3","shift":"#"},"Digit4":{"value":"4","shift":"$"},"Digit5":{"value":"5","shift":"%"},"Digit6":{"value":"6","shift":"^"},"Digit7":{"value":"7","shift":"&"},"Digit8":{"value":"8","shift":"*"},"Digit9":{"value":"9","shift":"("},"Equal":{"value":"=","shift":"+"},"IntlBackslash":{"value":"\\\\","shift":"|","international":true},"IntlRo":{"value":"\\\\","shift":"ろ","international":true},"IntlYen":{"value":"¥","shift":"¥","value2":"\\\\","shift2":"/","international":true},"KeyA":{"value":"a","shift":"A"},"KeyB":{"value":"b","shift":"B"},"KeyC":{"value":"c","shift":"C"},"KeyD":{"value":"d","shift":"D"},"KeyE":{"value":"e","shift":"E"},"KeyF":{"value":"f","shift":"F"},"KeyG":{"value":"g","shift":"G"},"KeyH":{"value":"h","shift":"H"},"KeyI":{"value":"i","shift":"I"},"KeyJ":{"value":"j","shift":"J"},"KeyK":{"value":"k","shift":"K"},"KeyL":{"value":"l","shift":"L"},"KeyM":{"value":"m","shift":"M"},"KeyN":{"value":"n","shift":"N"},"KeyO":{"value":"o","shift":"O"},"KeyP":{"value":"p","shift":"P"},"KeyQ":{"value":"q","shift":"Q"},"KeyR":{"value":"r","shift":"R"},"KeyS":{"value":"s","shift":"S"},"KeyT":{"value":"t","shift":"T"},"KeyU":{"value":"u","shift":"U"},"KeyV":{"value":"v","shift":"V"},"KeyW":{"value":"w","shift":"W"},"KeyX":{"value":"x","shift":"X"},"KeyY":{"value":"y","shift":"Y"},"KeyZ":{"value":"z","shift":"Z"},"Minus":{"value":"-","shift":"_"},"Period":{"value":".","shift":">"},"Quote":{"value":"\'","shift":"\\""},"Semicolon":{"value":";","shift":":"},"Slash":{"value":"/","shift":"?"},"Space":{"value":"Space","shift":"Space"},"Tab":{"value":"Tab","shift":"Tab"},"CapsLock":{"value":"CapsLock","shift":"CapsLock"},"Escape":{"value":"Escape","shift":"Escape"},"Backspace":{"value":"Backspace","shift":"Backspace"},"ArrowLeft":{"value":"ArrowLeft","shift":"ArrowLeft"},"ArrowRight":{"value":"ArrowRight","shift":"ArrowRight"},"ArrowUp":{"value":"ArrowUp","shift":"ArrowUp"},"ArrowDown":{"value":"ArrowDown","shift":"ArrowDown"},"ShiftLeft":{"value":"ShiftLeft","shift":"ShiftLeft"},"ShiftRight":{"value":"ShiftRight","shift":"ShiftRight"},"ControlLeft":{"value":"ControlLeft","shift":"ControlLeft"},"AltLeft":{"value":"AltLeft","shift":"AltLeft"},"AltRight":{"value":"AltRight","shift":"AltRight"},"MetaLeft":{"value":"MetaLeft","shift":"MetaLeft"},"MetaRight":{"value":"MetaRight","shift":"MetaRight"}}')},13:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l}));var a=n(5),s=n(4);function i(t){return function(t){const e={};return t.forEach(([t,n,s])=>{!function t(e,n,s,i,o){if(0===s.length)throw Error(i+" has a 0 length key binding");if(n===s.length-1){if(Object(a.b)(e,s[n]))throw{message:`${r(e[s[n]])} and ${i} have conflicting mapping`,type:"conflict",command1:e[s[n]],command2:i};e[s[n]]=i}else if(Object(a.b)(e,s[n])){if("object"!=typeof e[s[n]])throw{message:`${e[s[n]]} and ${i} have conflicting prefix`,type:"conflict",command1:e[s[n]],command2:i};t(e[s[n]],n+1,s,i)}else t(e[s[n]]={},n+1,s,i)}(e,0,t,n)}),e}(function(t){const e=[];for(const[n,a]of Object.entries(t)){if(void 0===a)throw Error("A profile is missing bindings for command "+n);for(const t of a){const a=t.map(t=>{try{Object(s.g)(t)}catch(t){throw Error("Invalid KeyboardEvent descriptor for "+n)}return Object(s.d)(t)});e.push([a,n,t])}}return e}(t))}function r(t){return"object"==typeof t?r(t[Object.keys(t)[0]]):t}const o={General:(t,e)=>({backgroundOptions:Object(a.a)(t,["autoActivateHint"]),clientOptions:Object(a.a)(t,["enabled","preventStealFocus","hintDetectByCursorStyle","smoothScroll","scrollStep"]),errors:{}}),Keybindings:(t,e)=>{const n=Object(a.a)(t,["hintChars"]),r=Object(a.a)(t,["physicalKeys","ignoreModifierKeys"]),o={};t.hintChars.length<2&&(o.hintChars="A minimum of two hint characters must be specified"),Object(s.e)(t.physicalKeys,t.ignoreModifierKeys);const c=function(t,e){const n={};return e.forEach(e=>{if("keybinding"===e.type){const{mode:a="command",key:s}=e;n[a]?n[a][s]=t[s]:n[a]={[s]:t[s]}}}),n}(t,e);return Object.entries(c).forEach(([t,e])=>{try{r[t?t+"Bindings":"bindings"]=i(e)}catch(t){if("conflict"!==t.type)throw t;o[t.command1]=t.message,o[t.command2]=t.message}}),{backgroundOptions:n,clientOptions:r,errors:o}},Appearance:(t,e)=>{const n=Object(a.a)(t,["hintFontSize","hintUseTargetSize","hintCSS","hintNormalCharCSS","hintActiveCharCSS","hintHorizontalPlacement","hintVerticalPlacement"]);return t.hintUseCustomCSS?n.hintCSS="all: initial; position: absolute; z-index: 999999999999; "+t.hintCSS:(n.hintCSS=function({hintOpacity:t,hintFontFamily:e,hintFontWeight:n,hintHorizontalPadding:a,hintVerticalPadding:s,hintBorderWidth:i,hintFontSize:r,hintTextColor:o,hintBackgroundColor:c,hintBorderColor:l,hintShadow:g,hintBorderRadius:u,hintHorizontalPlacement:m,hintVerticalPlacement:d,hintHorizontalTranslation:f,hintVerticalTranslation:h}){return`all: initial;\nposition: absolute;\nz-index: 2147483647;\nopacity: ${t};\nfont-family: ${e};\nfont-weight: ${n};\npadding: ${s}rem ${a}rem;\nborder: ${i}px solid;\ntext-align: center;\ntext-decoration: none;\ntext-transform: uppercase;\nvertical-align: middle;\nfont-size: ${r}px;\ncolor: ${o};\nbackground-color: ${c};\nborder-color: ${l};\n${g?"box-shadow: 0 3px 1px -2px rgba(0,0,0,.2), 0 2px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);":""}\nborder-radius: ${u}px;\ntransform: translate3d(${f+("left"===m?0:"right"===m?-100:-50)}%, ${h+("top"===d?0:"bottom"===d?-100:-50)}%, 0)`}(t),n.hintNormalCharCSS="",n.hintActiveCharCSS="opacity: 0.5"),{backgroundOptions:{},clientOptions:n,errors:{}}},Blacklist:(t,e)=>({backgroundOptions:Object(a.a)(t,["blacklist"]),clientOptions:Object(a.a)(t,["blacklist"]),errors:{}})},c=Object.keys(o);function l(t,e){const n={},a={},s={};return Object.entries(o).forEach(([i,r])=>{const{clientOptions:o,backgroundOptions:c,errors:l}=r(t,e[i]);Object.assign(a,o),Object.assign(n,c),Object.assign(s,l)}),{backgroundOptions:n,clientOptions:a,errors:s}}},16:function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return g})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return m})),n.d(e,"d",(function(){return d}));var a=n(3),s=(n(5),n(6)),i=n(13),r=n(2),o=n(19),c=n.n(o);async function l(){try{await Object(a.e)({ready:!1}),await f(),await h(),await b(),await async function(){const{categories:t}=await Object(a.c)("categories"),e={};for(const n of t)e[n]=[];await Object(a.e)({customProfiles:e})}(),await async function(){const{categories:t}=await Object(a.c)("categories"),e={};for(const n of t)e[n]="default";await Object(a.e)({activeProfiles:e})}(),await p(),await Object(a.e)({ready:!0})}catch(t){console.error("FATAL ERROR: INSTALLATION FAILED. DELETE THEN REINSTALL THE EXTENSION.",t)}}async function g(t){try{await Object(a.e)({ready:!1}),c()(t,"1.16")<=0?(await Object(a.b)(),await l()):(await async function(){const{categories:t,options:e,builtInProfiles:n}=await Object(a.c)(["categories","options","builtInProfiles"]);for(const a of t)for(const t of n[a])delete e[`${a}_${t}`];await Object(a.e)({options:e})}(),await async function(){await Object(a.d)("builtInProfiles")}(),await async function(){await Object(a.d)("config")}(),await async function(){await Object(a.d)("categories")}(),await f(),await h(),await b(),await async function(){const{categories:t,customProfiles:e,builtInProfiles:n,activeProfiles:s,options:i}=await Object(a.c)(["categories","customProfiles","builtInProfiles","activeProfiles","options"]);for(const a of t){const t=n[a];let r=e[a];const o=s[a];void 0===r&&(r=t),r.forEach((e,n)=>{if(-1!==t.indexOf(e)){const t=`${e}_renamed_${Date.now()}`;r[n]=t,o===e&&(s[a]=t),i[`${a}_${t}`]=i[`${a}_${e}`],delete i[`${a}_${e}`]}})}await Object(a.e)({customProfiles:e,activeProfiles:s,options:i})}(),await async function(){const{categories:t,activeProfiles:e,builtInProfiles:n,customProfiles:s}=await Object(a.c)(["categories","activeProfiles","builtInProfiles","customProfiles"]);for(const a of t){void 0===s[a]&&(s[a]=n[a]);-1===[...n[a],...s[a]].indexOf(e[a])&&(e[a]="default")}await Object(a.e)({activeProfiles:e})}(),await p(),await async function(){const{config:t,options:e,categories:n,customProfiles:s}=await Object(a.c)(["config","options","categories","customProfiles"]);for(const a of n){void 0===s[a]&&(s[a]=[]);for(const n of s[a]){const s=`${a}_${n}`;e[s]=y(e[s],t[a])}}await Object(a.e)({options:e})}()),await Object(a.e)({ready:!0})}catch(t){console.error("FATAL ERROR: UPDATE FAILED. DELETE THEN REINSTALL THE EXTENSION.",t)}}async function u(){const t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept",".json"),t.addEventListener("change",t=>{const e=new FileReader;e.onload=async()=>{await d();const{customProfiles:t,options:n}=await Object(a.c)(["customProfiles","options"]),{activeProfiles:i,profiles:r}=JSON.parse(e.result);for(const e in r)for(const a in r[e])t[e].push(a),n[`${e}_${a}`]=r[e][a];await Object(a.e)({customProfiles:t,activeProfiles:i,options:n}),Object(s.b)("options_page","RERENDER")},e.readAsText(t.target.files[0])}),t.click()}async function m(){const{customProfiles:t,activeProfiles:e,options:n}=await Object(a.c)(["customProfiles","activeProfiles","options"]),s={};for(const e in t)s[e]={},t[e].forEach(t=>{s[e][t]=n[`${e}_${t}`]});await Object(r.c)({activeProfiles:e,profiles:s},"saka_key_config.json")}async function d(){await Object(a.b)(),await l(),Object(s.b)("options_page","RERENDER")}async function f(){await Object(a.e)({categories:i.a})}async function h(){const{categories:t}=await Object(a.c)("categories"),e={};for(const n of t){const t=await fetch(`/config_${n}.json`),a=await t.json();e[n]=a.options}await Object(a.e)({config:e})}async function b(){const{categories:t}=await Object(a.c)("categories"),e={};for(const n of t){const t=await fetch(`/default_${n}.json`),{profiles:a}=await t.json();e[n]=a.map(t=>t.name)}await Object(a.e)({builtInProfiles:e})}async function p(){const{options:t={}}=await Object(a.c)("options"),{categories:e}=await Object(a.c)("categories");for(const n of e){const e=await fetch(`/default_${n}.json`),{profiles:a}=await e.json();for(const e of a)t[`${n}_${e.name}`]=e.options}await Object(a.e)({options:t})}function y(t,e){const n={};for(const i of e)n[i.key]=(a=t[i.key],s=i,void 0===a?s.default:a);var a,s;return n}},19:function(t,e,n){var a,s,i;s=[],void 0===(i="function"==typeof(a=function(){var t=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function e(t){var e,n,a=t.replace(/^v/,"").replace(/\+.*$/,""),s=(n="-",-1===(e=a).indexOf(n)?e.length:e.indexOf(n)),i=a.substring(0,s).split(".");return i.push(a.substring(s+1)),i}function n(t){return isNaN(Number(t))?t:Number(t)}function a(e){if("string"!=typeof e)throw new TypeError("Invalid argument expected string");if(!t.test(e))throw new Error("Invalid argument not valid semver ('"+e+"' received)")}function s(t,s){[t,s].forEach(a);for(var i=e(t),r=e(s),o=0;o<Math.max(i.length-1,r.length-1);o++){var c=parseInt(i[o]||0,10),l=parseInt(r[o]||0,10);if(c>l)return 1;if(l>c)return-1}var g=i[i.length-1],u=r[r.length-1];if(g&&u){var m=g.split(".").map(n),d=u.split(".").map(n);for(o=0;o<Math.max(m.length,d.length);o++){if(void 0===m[o]||"string"==typeof d[o]&&"number"==typeof m[o])return-1;if(void 0===d[o]||"string"==typeof m[o]&&"number"==typeof d[o])return 1;if(m[o]>d[o])return 1;if(d[o]>m[o])return-1}}else if(g||u)return g?-1:1;return 0}var i=[">",">=","=","<","<="],r={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return s.validate=function(e){return"string"==typeof e&&t.test(e)},s.compare=function(t,e,n){!function(t){if("string"!=typeof t)throw new TypeError("Invalid operator type, expected string but got "+typeof t);if(-1===i.indexOf(t))throw new TypeError("Invalid operator, expected one of "+i.join("|"))}(n);var a=s(t,e);return r[n].indexOf(a)>-1},s})?a.apply(e,s):a)||(t.exports=i)},2:function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"f",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"g",(function(){return l})),n.d(e,"a",(function(){return g})),n.d(e,"h",(function(){return u})),n.d(e,"c",(function(){return m}));var a=n(1),s=n.n(a);function i(t){if(t){switch(t.nodeName){case"INPUT":return function(t){if(t.disabled||t.readonly)return!1;switch(t.type){case void 0:case"text":case"search":case"email":case"url":case"number":case"password":case"date":case"tel":return!0}return!1}(t);case"TEXTAREA":case"OBJECT":return!0}switch(!0){case"TRUE"===t.contentEditable.toUpperCase():case"application"===t.role:return!0}}return!1}function r(t=document){const e=t.activeElement,n=e&&e.shadowRoot;return n?r(n):e}function o(t,e,n={}){let a;switch(e){case"hover":a=["mouseover","mouseenter","mousemove"];break;case"unhover":a=["mousemove","mouseout","mouseleave"];break;case"click":a=["mouseover","mousedown","mouseup","click"]}a.forEach(e=>{const a=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,detail:1,...n});t.dispatchEvent(a)})}const c="webkitfullscreenchange";function l(t){switch(t){case c:return"fullscreenchange";default:return t}}function g(t){const e=document.createElement("textarea");e.style="position:fixed;right:0",e.value=t,document.body.appendChild(e),e.select(),document.execCommand("Copy"),document.body.removeChild(e)}function u(){const t=document.createElement("textarea");t.style="position:fixed;right:0",document.body.appendChild(t),t.focus(),document.execCommand("Paste");const e=t.value;return document.body.removeChild(t),e}async function m(t,e){const n=URL.createObjectURL(new Blob([JSON.stringify(t,null,2)],{type:"data:application/json;charset=utf-8"}));await s.a.downloads.download({url:n,filename:e,saveAs:!0})}},3:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"e",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var a=n(1),s=n.n(a);const i=s.a.storage.local.get,r=s.a.storage.local.set,o=s.a.storage.local.remove,c=s.a.storage.local.clear;async function l(){const{activeProfiles:t}=await i("activeProfiles"),{options:e}=await i("options"),n={};for(const[a,s]of Object.entries(t))Object.assign(n,e[`${a}_${s}`]);return n}},4:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"e",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return u})),n.d(e,"a",(function(){return m})),n.d(e,"g",(function(){return d})),n.d(e,"f",(function(){return f}));var a=n(12),s=n(5);const i=-1!==navigator.appVersion.indexOf("Mac");let r=!0,o=!1;function c(t,e){r=t,o=e}function l(t){switch(t.key){case"Shift":case"Control":case"Alt":case"Meta":return!0;default:return!1}}function g(t){const{shiftKey:e,ctrlKey:n,altKey:a,metaKey:s}=t;return`${e?"s":""}${n?"c":""}${a?"a":""}${s?"m":""}`}function u(t,e=r,n=o){return e?`${g(t)}_${t.code}`:n?""+t.key:`${g(t)}_${t.key}`}function m(t,e=r,n=o){return e?`${function(t){const{shiftKey:e,ctrlKey:n,altKey:a,metaKey:s}=t;return`${e?"shift-":""}${n?"ctrl-":""}${a?"alt-":""}${s?"meta-":""}`}(t)}${a[t.code]?a[t.code].value:t.code}`:n?""+t.key:`${function(t){const{ctrlKey:e,altKey:n,metaKey:a}=t;return`${e?"ctrl-":""}${n?"alt-":""}${a?"meta-":""}`}(t)}${t.key}`}function d(t){return t&&t.key&&"string"==typeof t.key&&t.code&&"string"==typeof t.code&&(!Object(s.b)(t,"shiftKey")||t.shiftKey&&"boolean"==typeof t.shiftKey)&&(!Object(s.b)(t,"ctrlKey")||t.ctrlKey&&"boolean"==typeof t.ctrlKey)&&(!Object(s.b)(t,"altKey")||t.altKey&&"boolean"==typeof t.altKey)&&(!Object(s.b)(t,"metaKey")||t.metaKey&&"boolean"==typeof t.metaKey)}function f({key:t,code:e,ctrlKey:n,altKey:a,metaKey:s,shiftKey:i,repeat:r}){return{key:t,code:e,ctrlKey:n,altKey:a,metaKey:s,shiftKey:i,repeat:r}}},5:function(t,e,n){"use strict";function a(t,e){return(t%e+e)%e}function s(t,e){const n={};return e.forEach(e=>{if(!i(t,e))throw Error("object has no attribute "+e);n[e]=t[e]}),n}function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return i}))},6:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var a=n(9);class s extends a.b{constructor(){super(...arguments),this.timeout=1e3,this.transactions=new a.c,this.init=({subscriptions:t=[],onConnect:e=[],onDisconnect:n=[],actions:a,log:s=!1,onClientDisconnect:i})=>{this.initLogging(s),this.subscriptions=t,this.actions=a,this.onConnect=e,this.onDisconnect=n,this.onClientDisconnect=i,this.connect(),window.addEventListener("beforeunload",()=>{this.port.disconnect()})},this.connect=()=>{const{subscriptions:t,onConnect:e,onDisconnect:n}=this,a={name:JSON.stringify({subs:t,onConnect:e,onDisconnect:n})};this.port=chrome.runtime.connect(a),this.port.onDisconnect.addListener(this.disconnectListener),this.port.onMessage.addListener(this.messageListener)},this.msg=(t,e,n)=>{0===t?this.actionHandler(e,n,0):(this.log("Tx","msg",0,t,e,n),this.port.postMessage({t:"msg",dst:t,action:e,arg:n}))},this._getLocal=async(t,e,n,a)=>{try{return{id:t,v:await this.actionHandler(n,a,e)}}catch(e){return{id:t,e:e}}},this._getRemote=(t,e,n,a)=>new Promise((s,i)=>{const r=this.transactions.new(s,i,a);this.log("Tx","get",0,t,e,n,r),this.port.postMessage({t:"get",dst:t,action:e,arg:n,tid:r,timeout:a})}),this.get=async(t,e,n,s=a.a)=>0===t?[await this._getLocal(0,0,e,n)]:await this._getRemote(t,e,n,s),this.disconnectListener=t=>{this.onClientDisconnect&&this.onClientDisconnect()},this.messageListener=({src:t,dst:e,t:n,action:a,arg:s,tid:i,res:r})=>{switch(n){case"msg":this.log("Rx","msg",t,e,a,s),this.actionHandler(a,s,t);break;case"get":this.log("Rx","get",t,e,a,s,i),this._getLocal(e,t,a,s).then(n=>{try{this.log("Tx","rsp",t,e,a,n,i),this.port.postMessage({t:"rsp",src:e,dst:t,action:a,tid:i,res:n})}catch(t){}}).catch(n=>{try{this.log("Tx","rsp",t,e,a,r,i),this.port.postMessage({t:"rsp",src:e,dst:t,action:a,tid:i,res:{e:n}})}catch(n){}});break;case"rsp":this.log("Rx","rsp",t,e,a,r,i),this.transactions.complete(i,r);break;default:console.error("ERROR: Invalid message class: "+n)}}}}const i=new s,r=i.init,o=i.msg;i.get},76:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"nextTab",(function(){return T})),n.d(a,"previousTab",(function(){return P})),n.d(a,"firstTab",(function(){return C})),n.d(a,"lastTab",(function(){return I})),n.d(a,"moveTabLeft",(function(){return E})),n.d(a,"moveTabRight",(function(){return $})),n.d(a,"moveTabFirst",(function(){return L})),n.d(a,"moveTabLast",(function(){return R})),n.d(a,"moveTabNewWindow",(function(){return S})),n.d(a,"closeTab",(function(){return z})),n.d(a,"closeOtherTabs",(function(){return K})),n.d(a,"closeRightTabs",(function(){return q})),n.d(a,"closeLeftTabs",(function(){return _})),n.d(a,"newTab",(function(){return M})),n.d(a,"restoreTab",(function(){return B})),n.d(a,"duplicateTab",(function(){return N})),n.d(a,"duplicateTabIncognito",(function(){return D})),n.d(a,"newWindow",(function(){return W})),n.d(a,"newIncognitoWindow",(function(){return F})),n.d(a,"switchWindow",(function(){return H})),n.d(a,"zoomIn",(function(){return U})),n.d(a,"zoomOut",(function(){return Z})),n.d(a,"zoomReset",(function(){return V})),n.d(a,"refreshTab",(function(){return J})),n.d(a,"refreshAllTabs",(function(){return X})),n.d(a,"hardRefreshTab",(function(){return Y})),n.d(a,"toggleMuteTab",(function(){return G})),n.d(a,"toggleMuteAllTabs",(function(){return tt})),n.d(a,"togglePinTab",(function(){return et}));var s={};n.r(s),n.d(s,"clipboardCurrentTab",(function(){return st})),n.d(s,"clipboardBackgroundTab",(function(){return it})),n.d(s,"clipboardForegroundTab",(function(){return rt})),n.d(s,"clipboardNewWindow",(function(){return ot})),n.d(s,"clipboardIncognitoWindow",(function(){return ct}));var i=n(9);class r{constructor(){this.connectionsByPort=new Map,this.connectionsById=new Map,this.nextId=2,this.add=(t,e,n)=>{const a=t.sender;let s;a.tab&&(s=a.tab.id);const r=a.frameId,o=this.nextId++,c={port:t,id:o,subs:e,onDisconnect:n,tabId:s,frameId:r,transactions:new i.c,sender:a,data:{}};return this.connectionsByPort.set(t,c),this.connectionsById.set(o,c),o},this.remove=t=>{const e=this.connectionsByPort.get(t);this.connectionsById.delete(e.id),this.connectionsByPort.delete(t)},this.withTmpConnection=async(t,e)=>{let n;t.tab&&(n=t.tab.id);const a=t.frameId,s=this.nextId++,r={id:s,subs:[],onDisconnect:[],tabId:n,frameId:a,transactions:new i.c,sender:t,data:{}};this.connectionsById.set(s,r),await e(s),this.connectionsById.delete(s)},this.getByPort=t=>this.connectionsByPort.get(t),this.getById=t=>this.connectionsById.get(t)}}class o extends i.b{constructor(){super(),this.connections=new r,this.init=({subscriptions:t=[],onConnect:e=[],onDisconnect:n=[],actions:a,log:s=!1})=>{this.initLogging(s),this.subscriptions=t,this.actions=a,chrome.runtime.onConnect.addListener(t=>{const{subs:e,onConnect:n,onDisconnect:a}=JSON.parse(t.name),s=this.connections.add(t,e,a);t.onDisconnect.addListener(this.disconnectListener),t.onMessage.addListener(this.messageListener),this.executeOnConnectionActions(s,n)}),this.executeOnConnectionActions(0,e)},this.executeOnConnectionActions=(t,e)=>{e.forEach(({action:e,arg:n,dst:a=0})=>{this._msg(t,a,e,n)})},this.getTargets=(t,e)=>{let n=!1,a=[];if("number"==typeof e)if(0===e||1===e)n=!0;else{const t=this.connections.getById(e);t?t.closed?console.error("ERROR: attempted to message over closed connection"):a=[t]:console.error("ERROR: attempted to message non-existent client")}else"string"==typeof e?(n=this.subscriptions.includes(e),a=this.getStringTargets(t,e)):console.error("ERROR: dst type is invalid");return[n,a]},this._msg=(t,e,n,a)=>{const[s,i]=this.getTargets(t,e);s&&this.actionHandler(n,a,t),i.forEach(({port:s})=>{if(!s)throw Error("No messaging light-clients");this.log("Tx","msg",t,e,n,a),s.postMessage({t:"msg",src:t,dst:e,action:n,arg:a})})},this.msg=this._msg.bind(void 0,1),this.getStringTargets=(t,e)=>[...this.connections.connectionsById.values()].filter(n=>{if(n.closed)return!1;for(const a of e.split("|")){if(a.split("&").map(e=>{if(n.subs.includes(e))return!0;if("topFrame"===e)return 0===n.frameId;if("childFrames"===e)return 0!==n.frameId;if("otherFrames"===e)return n.frameId!==this.connections.getById(t).frameId;if("thisTab"===e)return n.tabId===this.connections.getById(t).tabId;if("other"===e)return n.id!==this.connections.getById(t).id;const a=e.match(/tab\[(\d+)\]/);if(a)return n.tabId===parseInt(a[1],10);const s=e.match(/frame\[(\d+)\]/);if(s)return n.frameId===parseInt(s[1],10);const i=e.match(/id\[(\d+)\]/);return!!i&&n.id===parseInt(i[1],10)}).every(t=>t))return!0}return!1}),this._getLocal=async(t,e,n)=>{try{return{id:1,v:await this.actionHandler(e,n,t)}}catch(t){return{id:1,e:t}}},this._getRemote=(t,e,n,a,s)=>new Promise((i,r)=>{const o=t.transactions.new(i,r,s);if(!t.port)throw Error("No messaging light-clients");this.log("Tx","get",e,t.id,n,a,o),t.port.postMessage({t:"get",src:e,dst:t.id,action:n,arg:a,tid:o})}),this._get=(t,e,n,a,s=i.a)=>{const[r,o]=this.getTargets(t,e),c=r?[this._getLocal(t,n,a)]:[],l=o.map(e=>this._getRemote(e,t,n,a,s));try{return Promise.all([...c,...l])}catch(t){return console.error(t,"connections: ",this.connections),Promise.resolve([])}},this.get=this._get.bind(void 0,1),this.disconnectListener=t=>{const e=this.connections.getByPort(t);e.closed=!0,this.executeOnConnectionActions(e.id,e.onDisconnect),this.connections.remove(t)},this.messageListener=({src:t,dst:e,t:n,action:a,arg:s,tid:i,res:r,timeout:o},c)=>{switch(void 0===t&&(t=this.connections.getByPort(c).id),n){case"msg":this.log("Rx","msg",t,e,a,s),this._msg(t,e,a,s);break;case"get":this.log("Rx","get",t,e,a,s,i),this._get(t,e,a,s,o).then(n=>{this.log("Tx","rsp",t,e,a,n,i),c.postMessage({t:"rsp",src:e,dst:t,action:a,res:n,tid:i})}).catch(n=>{this.log("Tx","rsp",t,e,a,{e:n},i),c.postMessage({t:"rsp",src:e,dst:t,action:a,res:{e:n},tid:i})});break;case"rsp":this.log("Rx","rsp",t,e,a,r,i);const l=this.connections.getByPort(c);l&&l.transactions.complete(i,r);break;default:throw Error("Invalid message class: "+n)}},this.meta=t=>{const e=this.connections.getById(t);if(e)return{frameId:e.frameId,tabId:e.tabId,sender:e.sender,subs:e.subs,data:e.data}},chrome.runtime.onMessage.addListener(({mosi_lw_msg:t,dst:e,action:n,arg:a},s)=>{t&&(this.log("Rx","msg","lw_client",e,n,a),this.connections.withTmpConnection(s,async t=>{await this._msg(t,e,n,a)}))})}}const c=new o,l=c.init,g=c.msg,u=c.get,m=c.meta;var d=n(3),f=n(13),h=n(16),b=n(1),p=n.n(b);let y={};const w={onOptionsChange:()=>{},messages:{}};async function A(){const t=await p.a.tabs.query({});console.log(t);try{await Promise.all(t.filter(v).map(t=>p.a.tabs.executeScript(t.id,{file:"content_script_loader.js",allFrames:!0,runAt:"document_start",matchAboutBlank:!0})))}catch(t){console.log("Failed to reload client into all tabs")}}const x=p.a.runtime.getURL("").split(":")[0]+"://";function v(t){return"about:blank"===t.url||!t.url.startsWith("about:")&&!t.url.startsWith(x)}let k;async function O(){if((await Object(d.c)("ready")).ready){const{backgroundOptions:t,clientOptions:e}=Object(f.b)(await Object(d.a)(),(await Object(d.c)("config")).config);Object.values(y).forEach(e=>{e.onOptionsChange(t)}),k=e,g("client","clientOptions",e)}}chrome.tabs.onReplaced.addListener(async(t,e)=>{await p.a.tabs.executeScript(t,{file:"content_script_loader.js",allFrames:!0,runAt:"document_start",matchAboutBlank:!0})}),chrome.storage.onChanged.addListener(O);var j=n(5);async function T(){const t=await p.a.tabs.query({currentWindow:!0}),e=t.findIndex(t=>t.active),n=t[Object(j.c)(e+1,t.length)].id;await p.a.tabs.update(n,{active:!0})}async function P(){const t=await p.a.tabs.query({currentWindow:!0}),e=t.findIndex(t=>t.active),n=t[Object(j.c)(e-1,t.length)].id;await p.a.tabs.update(n,{active:!0})}async function C(){const t=(await p.a.tabs.query({currentWindow:!0}))[0].id;await p.a.tabs.update(t,{active:!0})}async function I(){const t=await p.a.tabs.query({currentWindow:!0}),e=t[t.length-1].id;await p.a.tabs.update(e,{active:!0})}async function E(){const[t]=await p.a.tabs.query({currentWindow:!0,active:!0});await p.a.tabs.move(t.id,{index:t.index-1})}async function $(){const t=await p.a.tabs.query({currentWindow:!0}),e=t.findIndex(t=>t.active),n=Object(j.c)(e+1,t.length);await p.a.tabs.move(t[e].id,{index:n})}async function L(){const[t]=await p.a.tabs.query({currentWindow:!0,active:!0});await p.a.tabs.move(t.id,{index:0})}async function R(){const[t]=await p.a.tabs.query({currentWindow:!0,active:!0});await p.a.tabs.move(t.id,{index:-1})}async function S(){const[t]=await p.a.tabs.query({currentWindow:!0,active:!0});await p.a.windows.create({tabId:t.id})}async function z(){const[t]=await p.a.tabs.query({currentWindow:!0,active:!0});await p.a.tabs.remove(t.id)}async function K(){const t=await p.a.tabs.query({currentWindow:!0});await Promise.all(t.map(async t=>{t.active||await p.a.tabs.remove(t.id)}))}async function q(){const t=await p.a.tabs.query({currentWindow:!0}),e=t.findIndex(t=>t.active);await Promise.all(t.slice(e+1).map(async t=>{await p.a.tabs.remove(t.id)}))}async function _(){const t=await p.a.tabs.query({currentWindow:!0}),e=t.findIndex(t=>t.active);await Promise.all(t.slice(0,e).map(async t=>{await p.a.tabs.remove(t.id)}))}async function M(){await p.a.tabs.create({})}async function B(){await p.a.sessions.restore()}async function N(){const[t]=await p.a.tabs.query({currentWindow:!0,active:!0});await p.a.tabs.duplicate(t.id)}async function D(){const[t]=await p.a.tabs.query({currentWindow:!0,active:!0});if(t.incognito)await p.a.tabs.duplicate(t.id);else{const e=(await p.a.windows.getAll({windowTypes:["normal"]})).filter(t=>t.incognito);e.length>0?await p.a.tabs.create({url:t.url,windowId:e[0].id}):await p.a.windows.create({url:t.url,incognito:!0,state:"maximized"})}}async function W(){await p.a.windows.create()}async function F(){await p.a.windows.create({incognito:!0})}async function H(){console.error("switchWindow not implemented")}async function U(){const[t]=await p.a.tabs.query({currentWindow:!0,active:!0}),e=await p.a.tabs.getZoom();await p.a.tabs.setZoom(t.id,Math.min(e+.1,3))}async function Z(){const[t]=await p.a.tabs.query({currentWindow:!0,active:!0}),e=await p.a.tabs.getZoom();await p.a.tabs.setZoom(t.id,Math.max(e-.1,.3))}async function V(){const[t]=await p.a.tabs.query({currentWindow:!0,active:!0});await p.a.tabs.setZoom(t.id,0)}async function J(){const[t]=await p.a.tabs.query({currentWindow:!0,active:!0});await p.a.tabs.reload(t.id)}async function X(){const t=await p.a.tabs.query({currentWindow:!0});await Promise.all(t.map(async t=>{await p.a.tabs.reload(t.id)}))}async function Y(){const[t]=await p.a.tabs.query({currentWindow:!0,active:!0});await p.a.tabs.reload(t.id,{bypassCache:!0})}async function G(){const[t]=await p.a.tabs.query({currentWindow:!0,active:!0});await p.a.tabs.update(t.id,{muted:!t.mutedInfo.muted})}let Q=!1;async function tt(){Q=!Q;const t=await p.a.tabs.query({});await Promise.all(t.map(async t=>{await p.a.tabs.update(t.id,{muted:Q})}))}async function et(){const[t]=await p.a.tabs.query({currentWindow:!0,active:!0});await p.a.tabs.update(t.id,{pinned:!t.pinned})}var nt=n(10),at=n(2);async function st(){await p.a.tabs.update({url:Object(nt.b)(Object(at.h)())})}async function it(){await p.a.tabs.create({url:Object(nt.b)(Object(at.h)()),active:!1})}async function rt(){await p.a.tabs.create({url:Object(nt.b)(Object(at.h)())})}async function ot(){await p.a.windows.create({url:Object(nt.b)(Object(at.h)())})}async function ct(){await p.a.windows.create({url:Object(nt.b)(Object(at.h)()),incognito:!0})}var lt={messages:{...a,...s}};let gt="adsfghjkl;",ut=!1;var mt={onOptionsChange:t=>{gt=t.hintChars.length>=2?t.hintChars:"bad",ut=t.autoActivateHint},messages:{findHints:async(t,e)=>{const n=`tab[${m(e).tabId}]|id[${e}]`,a=await u(n,"findHints",t),s=a.reduce((t,{v:e})=>t+e,0);if(0===s)g(n,"exitHintsMode");else if(1===s&&ut){const{id:t}=a.find(({v:t,id:e})=>1===t),[{v:e}]=await u(t,"activateFirstHint");g(n,"exitHintsMode",e)}else{const t=function(t,e){const n=[""];let a=0;for(;n.length-a<e||1===n.length;){const e=n[a++];for(const a of t)n.push(e+a)}return n.slice(a,a+e)}(gt,s);let e=0;a.forEach(({id:n,v:a})=>{const s=e+a;g(n,"renderHints",t.slice(e,s)),e=s})}},processKey:async(t,e)=>{const n=`tab[${m(e).tabId}]|id[${e}]`;try{const e=await u(n,"advanceHints",t);if(e.every(({v:t})=>"Filtered"===t))return void g(n,"exitHintsMode");const a=e.find(({v:t})=>"Same"!==t&&"Filtered"!==t&&void 0!==t);a&&g(n,"exitHintsMode",a.v)}catch(t){}},openLinkInIncognitoWindow:t=>{p.a.windows.create({url:t,incognito:!0})}}};const dt={loadClient:async function(t,e){const{sender:{frameId:n,tab:{index:a,id:s}}}=m(e);-1===a||await p.a.tabs.executeScript(s,{file:"content_script.js",frameId:n,runAt:"document_start",matchAboutBlank:!0})},clientOptions:function(t,e){g(e,"clientOptions",k)}};l({log:!1,actions:dt}),function(t,e){y=t,Object.entries(t).map(([t,n])=>{y[t]=Object.assign({},w,n),Object.assign(e,y[t].messages)})}({Command:lt,Hints:mt},dt),async function(){await void chrome.runtime.onInstalled.addListener(async({reason:t,previousVersion:e})=>{switch(t){case"install":await Object(h.c)(),await O(),await A(),chrome.tabs.create({url:"info.html"});break;case"update":await Object(h.e)(e),await O(),await A()}}),await O()}()},9:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return i}));const a=5e3;class s{constructor(){this.tid=0,this.transactions={},this.new=(t,e,n)=>{const a=++this.tid,s=setTimeout(()=>{delete this.transactions[a],e(`Transaction ${a} timed out.`)},n);return this.transactions[a]={resolve:t,reject:e,timer:s},a},this.complete=(t,e)=>{const n=this.transactions[t];n&&(n.resolve(e),clearTimeout(n.timer),delete this.transactions[t])}}}class i{constructor(){this.actionHandler=(t,e,n)=>{const a=this.actions[t];if(a)return a(e,n);throw Error("No handler for action "+t)},this.initLogging=t=>{this.log=t?(t,e,n,a,s,i,r)=>{const o="rsp"===e?"res":"arg",c=void 0===r?"":":"+r;console.log(`%c${t}%c[%c${e}%c${c}](${n} -> ${a}) :: %c${s}%c, ${o}=`,"color: "+("Tx"===t?"green":"red"),"color: auto","color: "+("get"===e?"blueviolet":"msg"===e?"blue":"brown"),"color: auto","color: teal","color: auto",i)}:()=>{}}}}}});
//# sourceMappingURL=background_page.js.map